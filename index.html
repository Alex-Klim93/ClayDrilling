<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Производственный тест для собеседования</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        h1, h2 {
            color: #2c3e50;
            text-align: center;
        }
        .test-section {
            background-color: white;
            padding: 20px;
            margin-bottom: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .question {
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid #eee;
        }
        .options {
            margin-left: 20px;
        }
        .correct {
            color: green;
            font-weight: bold;
        }
        button {
            display: block;
            margin: 30px auto;
            padding: 12px 25px;
            background-color: #3498db;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        button:hover {
            background-color: #2980b9;
        }
        #result {
            text-align: center;
            font-size: 20px;
            margin-top: 30px;
            padding: 20px;
            background-color: #e8f4fc;
            border-radius: 8px;
        }
        .section-title {
            background-color: #2c3e50;
            color: white;
            padding: 10px;
            border-radius: 5px;
            margin-top: 40px;
        }
        #userInfo {
            background-color: white;
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        #userInfo input, #userInfo select {
            width: 100%;
            padding: 8px;
            margin-bottom: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        #testContainer {
            display: none;
        }
        #finalScreen {
            display: none;
            text-align: center;
            padding: 30px;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
    </style>
</head>
<body>
    <h1>Тест для собеседования в производственный цех</h1>
    <h2>Должность: Оператор станков с ЧПУ / Токарь / Слесарь</h2>

    <div id="userInfo">
        <h3>Пожалуйста, заполните ваши данные</h3>
        <input type="text" id="userName" placeholder="ФИО" required>
        <input type="tel" id="userPhone" placeholder="Номер телефона (для связи)" required>
        <select id="userPosition" required>
            <option value="">Выберите должность</option>
            <option value="Оператор станков с ЧПУ">Оператор станков с ЧПУ</option>
            <option value="Токарь">Токарь</option>
            <option value="Слесарь">Слесарь</option>
        </select>
        <button type="button" id="startTestBtn">Начать тест</button>
    </div>

    <div id="testContainer">
        <form id="testForm">
            <!-- Раздел 1: Ручной инструмент -->
            <div class="section-title">1. Ручной инструмент</div>
            <div class="test-section">
                <div class="question">
                    <p>1. Какой инструмент используется для нарезания наружной резьбы вручную?</p>
                    <div class="options">
                        <label><input type="radio" name="q1" value="a"> а) Метчик</label><br>
                        <label><input type="radio" name="q1" value="b"> б) Плашка</label><br>
                        <label><input type="radio" name="q1" value="c"> в) Зенкер</label><br>
                        <label><input type="radio" name="q1" value="d"> г) Развертка</label>
                    </div>
                </div>
                
                <!-- Остальные вопросы остаются без изменений -->
                <!-- ... -->
                
            </div>

            <!-- Раздел 2: Измерительный инструмент -->
            <div class="section-title">2. Измерительный инструмент</div>
            <div class="test-section">
                <!-- Вопросы раздела 2 -->
                <!-- ... -->
            </div>

            <!-- Раздел 3: Режущий инструмент -->
            <div class="section-title">3. Режущий инструмент</div>
            <div class="test-section">
                <!-- Вопросы раздела 3 -->
                <!-- ... -->
            </div>

            <!-- Кнопка отправки -->
            <button type="button" id="submitBtn">Завершить тест</button>
        </form>

        <div id="result"></div>
    </div>

    <div id="finalScreen">
        <h2>Тест завершен!</h2>
        <p id="finalMessage"></p>
        <p>Спасибо за участие. Мы свяжемся с вами в ближайшее время.</p>
    </div>

    <script>
        // Скрываем тест при загрузке
        document.getElementById('testContainer').style.display = 'none';
        document.getElementById('finalScreen').style.display = 'none';

        // Обработчик начала теста
        document.getElementById('startTestBtn').addEventListener('click', function() {
            const userName = document.getElementById('userName').value;
            const userPhone = document.getElementById('userPhone').value;
            const userPosition = document.getElementById('userPosition').value;

            if (!userName || !userPhone || !userPosition) {
                alert('Пожалуйста, заполните все поля!');
                return;
            }

            document.getElementById('userInfo').style.display = 'none';
            document.getElementById('testContainer').style.display = 'block';
        });

        // Правильные ответы
        const correctAnswers = {
            q1: "b", q2: "c", q3: "b", q4: "b", q5: "b", q6: "a", q7: "a", q8: "c", q9: "a", q10: "a",
            q11: "a", q12: "b", q13: "a", q14: "c", q15: "a", q16: "a", q17: "a", q18: "b", q19: "a", q20: "a",
            q21: "a", q22: "b", q23: "b", q24: "b", q25: "b", q26: "b", q27: "b", q28: "c", q29: "b", q30: "b"
        };

        // Тексты вопросов и вариантов ответов
        const questionTexts = {
            q1: "1. Какой инструмент используется для нарезания наружной резьбы вручную?",
            q2: "2. Как называется инструмент для выколачивания штифтов и валов?",
            q3: "3. Какой инструмент применяется для гибки листового металла?",
            q4: "4. Как называется инструмент для удаления заусенцев?",
            q5: "5. Какой инструмент используют для разметки металла?",
            q6: "6. Какой инструмент нужен для выравнивания кромок детали?",
            q7: "7. Как называется инструмент для пробивания отверстий в металле?",
            q8: "8. Какой инструмент используют для натягивания пружин?",
            q9: "9. Как называется инструмент для выравнивания валов?",
            q10: "10. Какой инструмент применяют для снятия фасок?",
            q11: "1. Какой инструмент измеряет глубину паза?",
            q12: "2. Какой прибор измеряет отклонение от плоскостности?",
            q13: "3. Какой инструмент измеряет шаг резьбы?",
            q14: "4. Как называется прибор для измерения углов?",
            q15: "5. Какой инструмент измеряет биение вала?",
            q16: "6. Какой инструмент используют для проверки прямого угла?",
            q17: "7. Какой прибор измеряет зазор между деталями?",
            q18: "8. Какой инструмент измеряет наружный диаметр с высокой точностью?",
            q19: "9. Как называется прибор для проверки соосности?",
            q20: "10. Какой инструмент измеряет шероховатость поверхности?",
            q21: "1. Какой резец используется для чернового точения?",
            q22: "2. Какой угол у сверла по металлу стандартного типа?",
            q23: "3. Как называется режущая часть фрезы?",
            q24: "4. Какой инструмент используют для чистовой обработки отверстий?",
            q25: "5. Какой материал чаще всего используют для изготовления твердосплавных пластин?",
            q26: "6. Как называется угол между передней поверхностью резца и плоскостью резания?",
            q27: "7. Какой инструмент используют для нарезания внутренней резьбы?",
            q28: "8. Как называется процесс заточки резца для восстановления режущих кромок?",
            q29: "9. Какой параметр определяет стойкость инструмента?",
            q30: "10. Как называется инструмент для обработки торцов?"
        };

        const optionTexts = {
            q1: { a: "а) Метчик", b: "б) Плашка", c: "в) Зенкер", d: "г) Развертка" },
            q2: { a: "а) Киянка", b: "б) Молоток-гвоздодер", c: "в) Бородок", d: "г) Зубило" },
            q3: { a: "а) Тиски", b: "б) Круглогубцы", c: "в) Киянка", d: "г) Оправка" },
            q4: { a: "а) Шабер", b: "б) Напильник", c: "в) Надфиль", d: "г) Рашпиль" },
            q5: { a: "а) Кернер", b: "б) Чертилка", c: "в) Штангенциркуль", d: "г) Угольник" },
            q6: { a: "а) Рифлёный молоток", b: "б) Киянка", c: "в) Ручной рубанок", d: "г) Шабровка" },
            q7: { a: "а) Пробойник", b: "б) Зенкер", c: "в) Сверло", d: "г) Долото" },
            q8: { a: "а) Клещи", b: "б) Плоскогубцы", c: "в) Специальные захваты", d: "г) Разводной ключ" },
            q9: { a: "а) Правильная плита", b: "б) Рихтовальные клещи", c: "в) Притир", d: "г) Шабровка" },
            q10: { a: "а) Зенковка", b: "б) Развертка", c: "в) Шабер", d: "г) Напильник" },
            q11: { a: "а) Штангенглубиномер", b: "б) Микрометр", c: "в) Нутромер", d: "г) Индикатор" },
            q12: { a: "а) Щуп", b: "б) Линейка-поверочная", c: "в) Уровень", d: "г) Индикатор" },
            q13: { a: "а) Резьбомер", b: "б) Штангенциркуль", c: "в) Микрометр", d: "г) Угломер" },
            q14: { a: "а) Угольник", b: "б) Транспортир", c: "в) Угломер", d: "г) Нивелир" },
            q15: { a: "а) Индикатор часового типа", b: "б) Штангенциркуль", c: "в) Микрометр", d: "г) Нутромер" },
            q16: { a: "а) Угольник", b: "б) Уровень", c: "в) Линейка", d: "г) Щуп" },
            q17: { a: "а) Щуп", b: "б) Микрометр", c: "в) Штангенциркуль", d: "г) Нутромер" },
            q18: { a: "а) Штангенциркуль", b: "б) Микрометр", c: "в) Нутромер", d: "г) Резьбомер" },
            q19: { a: "а) Индикаторная стойка", b: "б) Уровень", c: "в) Теодолит", d: "г) Нивелир" },
            q20: { a: "а) Профилометр", b: "б) Микрометр", c: "в) Щуп", d: "г) Индикатор" },
            q21: { a: "а) Проходной отогнутый", b: "б) Расточной", c: "в) Подрезной", d: "г) Резьбовой" },
            q22: { a: "а) 90°", b: "б) 118°", c: "в) 135°", d: "г) 60°" },
            q23: { a: "а) Хвостовик", b: "б) Зуб", c: "в) Лезвие", d: "г) Кромка" },
            q24: { a: "а) Зенкер", b: "б) Развертка", c: "в) Метчик", d: "г) Сверло" },
            q25: { a: "а) Быстрорежущая сталь", b: "б) ВК8", c: "в) P6M5", d: "г) У8А" },
            q26: { a: "а) Главный угол", b: "б) Передний угол", c: "в) Угол заострения", d: "г) Угол наклона" },
            q27: { a: "а) Плашка", b: "б) Метчик", c: "в) Зенкер", d: "г) Развертка" },
            q28: { a: "а) Правка", b: "б) Закалка", c: "в) Переточка", d: "г) Отпуск" },
            q29: { a: "а) Твердость", b: "б) Время работы до затупления", c: "в) Угол заточки", d: "г) Скорость резания" },
            q30: { a: "а) Проходной резец", b: "б) Подрезной резец", c: "в) Расточной резец", d: "г) Резьбовой резец" }
        };

        // Обработчик отправки теста
        document.getElementById('submitBtn').addEventListener('click', function() {
            const userName = document.getElementById('userName').value;
            const userPhone = document.getElementById('userPhone').value;
            const userPosition = document.getElementById('userPosition').value;

            let score = 0;
            const totalQuestions = Object.keys(correctAnswers).length;
            const userAnswers = {};
            
            // Проверка ответов и сбор данных
            for (let i = 1; i <= totalQuestions; i++) {
                const questionName = "q" + i;
                const selectedOption = document.querySelector(`input[name="${questionName}"]:checked`);
                
                if (selectedOption) {
                    userAnswers[questionName] = selectedOption.value;
                    if (selectedOption.value === correctAnswers[questionName]) {
                        score++;
                    }
                } else {
                    userAnswers[questionName] = "Нет ответа";
                }
            }

            // Вычисление результата
            const percentage = Math.round((score / totalQuestions) * 100);
            let message = `Вы ответили правильно на ${score} из ${totalQuestions} вопросов (${percentage}%). `;
            
            if (percentage >= 80) {
                message += "Отличный результат!";
            } else if (percentage >= 50) {
                message += "Средний результат.";
            } else {
                message += "Низкий результат.";
            }
            
            // Отображение результата для пользователя
            document.getElementById('result').innerHTML = message;

            // Подготовка данных для отправки
            const testData = {
                userName: userName,
                userPhone: userPhone,
                userPosition: userPosition,
                score: score,
                totalQuestions: totalQuestions,
                percentage: percentage,
                answers: userAnswers,
                correctAnswers: correctAnswers,
                questionTexts: questionTexts,
                optionTexts: optionTexts,
                timestamp: new Date().toISOString()
            };

            // Отправка данных на сервер (имитация)
            sendResultsToManager(testData);

            // Показываем финальный экран
            document.getElementById('testContainer').style.display = 'none';
            document.getElementById('finalScreen').style.display = 'block';
            document.getElementById('finalMessage').textContent = message;
        });

        // Функция для отправки результатов руководителю
        function sendResultsToManager(testData) {
            // Здесь должен быть реальный код отправки на сервер
            // Для примера просто выводим в консоль
            console.log("Результаты теста отправлены руководителю:", testData);
            
            // Формируем сообщение для руководителя
            let managerMessage = `*Результаты тестирования кандидата*\n\n`;
            managerMessage += `*Кандидат:* ${testData.userName}\n`;
            managerMessage += `*Телефон:* ${testData.userPhone}\n`;
            managerMessage += `*Должность:* ${testData.userPosition}\n`;
            managerMessage += `*Результат:* ${testData.score}/${testData.totalQuestions} (${testData.percentage}%)\n\n`;
            managerMessage += `*Подробные ответы:*\n\n`;

            // Добавляем ответы по каждому вопросу
            for (let i = 1; i <= testData.totalQuestions; i++) {
                const q = 'q' + i;
                const questionText = testData.questionTexts[q];
                const userAnswer = testData.answers[q];
                const correctAnswer = testData.correctAnswers[q];
                
                managerMessage += `${questionText}\n`;
                managerMessage += `- Ответ кандидата: ${testData.optionTexts[q][userAnswer] || 'Нет ответа'}\n`;
                managerMessage += `- Правильный ответ: ${testData.optionTexts[q][correctAnswer]}\n`;
                
                if (userAnswer === correctAnswer) {
                    managerMessage += `✅ Верно\n\n`;
                } else {
                    managerMessage += `❌ Неверно\n\n`;
                }
            }

            // В реальном приложении здесь должен быть AJAX-запрос к серверу
            // или отправка через Email API, Telegram Bot API и т.д.
            console.log(managerMessage);
            
            // Или отправка через WhatsApp (в реальном приложении нужно использовать API)
             const whatsappUrl = `https://wa.me/79776282906?text=${encodeURIComponent(managerMessage)}`;
            // window.open(whatsappUrl, '_blank');
        }
    </script>
</body>
</html>
